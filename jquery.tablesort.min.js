/*
  A simple, lightweight jQuery plugin for creating sortable tables.
  https://github.com/kylefox/jquery-tablesort
  Version 0.0.2

  Based on semantic-ui.com's version:
    http://semantic-ui.com/javascript/library/tablesort.js

  Modified version:
    https://github.com/paaskehare/jquery-tablesort
*/
(function(b){b.tablesort=function(a,d){var f=this;this.$table=a;this.settings=b.extend({},b.tablesort.defaults,d);this.$table.find("thead th").bind("click.tablesort",function(){b(this).hasClass("disabled")||f.sort(b(this))});this.index=null;this.$th=this.$table.find("thead th").first()||null;this.direction=[this.settings.order]};b.tablesort.prototype={resort:function(){this.sort();this.sort()},sort:function(a,d){if(!a)return this.sort(this.$th);var f=new Date,c=this,n=this.$table,m=n.find("tbody tr"),
g=a.index(),l=[],p=function(c,b,k){var e;return c.data().sortBy?(e=c.data().sortBy,"function"===typeof e?e(c,b,k):e):b.data("sort")?b.data("sort"):b.text()},q=function(b,c){var k=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,e=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,d=/^0x[0-9a-f]+$/i,g=/^0/,h=(""+b).toLowerCase().replace(",","").replace(e,"")||"",f=(""+c).toLowerCase().replace(",","").replace(e,
"")||"",e=h.replace(k,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),k=f.replace(k,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),l=Math.max(e.length,k.length),h=parseInt(h.match(d),10)||1!=e.length&&h.match(a)&&Date.parse(h);if(a=parseInt(f.match(d),10)||h&&f.match(a)&&Date.parse(f)||null){if(h<a)return-1;if(h>a)return 1}for(h=0;h<l;h++){a=!(e[h]||"").match(g)&&parseFloat(e[h])||e[h]||0;d=!(k[h]||"").match(g)&&parseFloat(k[h])||k[h]||0;if(isNaN(a)!==isNaN(d))return isNaN(a)?
1:-1;typeof a!==typeof d&&(a+="",d+="");if(a<d)return-1;if(a>d)return 1}return 0};0!==m.length&&(c.$table.find("thead th").removeClass(c.settings.asc+" "+c.settings.desc),this.$th=a,this.direction[g]=this.index!=g?"desc":"asc"!==d&&"desc"!==d?"desc"===this.direction[g]?"asc":"desc":d,this.index=g,d="asc"==this.direction[g]?1:-1,c.$table.trigger("tablesort:start",[c]),c.log("Sorting by "+this.index+" "+this.direction[g]),m.sort(function(f,g){var k=b(f),e=b(g),k=k.index(),e=e.index();l[k]?f=l[k]:(f=
p(a,c.cellToSort(f),c),l[k]=f);l[e]?g=l[e]:(g=p(a,c.cellToSort(g),c),l[e]=g);return q(f,g)*d}),m.each(function(a,b){n.append(b)}),a.addClass(c.settings[c.direction[g]]),c.log("Sort finished in "+((new Date).getTime()-f.getTime())+"ms"),c.$table.trigger("tablesort:complete",[c]))},cellToSort:function(a){return b(b(a).find("td").get(this.index))},log:function(a){(b.tablesort.DEBUG||this.settings.debug)&&console&&console.log&&console.log("[tablesort] "+a)},destroy:function(){this.$table.find("thead th").unbind("click.tablesort");
this.$table.data("tablesort",null);return null}};b.tablesort.DEBUG=!1;b.tablesort.defaults={debug:b.tablesort.DEBUG,order:"asc",asc:"sorted ascending",desc:"sorted descending"};b.fn.tablesort=function(a){var d,f;return this.each(function(){d=b(this);(f=d.data("tablesort"))&&f.destroy();var c=new b.tablesort(d,a);d.data("tablesort",c);return c})}})(jQuery);